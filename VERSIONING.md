# –°–∏—Å—Ç–µ–º–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞

## –û–±–∑–æ—Ä

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**:
- **–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞** - –æ–±—â–∞—è –≤–µ—Ä—Å–∏—è –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- **–í–µ—Ä—Å–∏—è —Å–∫—Ä–∏–ø—Ç–∞** - –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –∫–∞–∂–¥–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
- **–ò—Ç–æ–≥–æ–≤–∞—è –≤–µ—Ä—Å–∏—è** - —Ñ–æ—Ä–º–∞—Ç `–≤–µ—Ä—Å–∏—è_–ø—Ä–æ–µ–∫—Ç–∞/–≤–µ—Ä—Å–∏—è_—Å–∫—Ä–∏–ø—Ç–∞`

## –§–æ—Ä–º–∞—Ç –≤–µ—Ä—Å–∏–π

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–µ—Ä—Å–∏–∏
```
X.Y.Z
‚îÇ ‚îÇ ‚îî‚îÄ Patch (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –º–µ–ª–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ Minor (–Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Major (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ)
```

### –ü—Ä–∏–º–µ—Ä—ã
- `1.0.0` - –ø–µ—Ä–≤–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
- `1.1.0` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `1.1.1` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏
- `2.0.0` - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏

### –§–∞–π–ª VERSION
–í–µ—Ä—Å–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `VERSION` –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:

```json
{
  "project": "2.0.0",
  "scripts": {
    "kma_pg_backup.py": "1.0.1",
    "kma_pg_restore.py": "1.0.0",
    "kma_pg_storage.py": "1.0.0",
    "kma_pg_config_setup.py": "1.0.0",
    "kma_pg_config_manager.py": "1.0.0",
    "kma_pg_config_builder.py": "2.0.0",
    "kma_pg_retention.py": "1.0.0"
  }
}
```

### –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏—è–º–∏

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π
python src/kma_pg_version.py --list

# –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
python src/kma_pg_version.py --get kma_pg_backup.py

# –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç –≤–µ—Ä—Å–∏–∏ —Å–∫—Ä–∏–ø—Ç–∞
python src/kma_pg_version.py --increment kma_pg_backup.py --type patch

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏
python src/kma_pg_version.py --set kma_pg_backup.py 1.2.0
```

## –ü—Ä–∞–≤–∏–ª–∞ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞

### Patch (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫
- –£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- **–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞**: —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è patch
- **–í–µ—Ä—Å–∏—è —Å–∫—Ä–∏–ø—Ç–∞**: —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è patch

### Minor (–Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ API
- –û–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞**: —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è minor, patch = 0
- **–í–µ—Ä—Å–∏—è —Å–∫—Ä–∏–ø—Ç–∞**: —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è minor, patch = 0

### Major (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è API
- –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –£–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
- **–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞**: —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è major, minor = 0, patch = 0
- **–í–µ—Ä—Å–∏—è —Å–∫—Ä–∏–ø—Ç–∞**: —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è major, minor = 0, patch = 0

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤–µ—Ä—Å–∏–∏ —Å–∫—Ä–∏–ø—Ç–∞ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞**:

### –ü—Ä–∞–≤–∏–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
1. **Major increment —Å–∫—Ä–∏–ø—Ç–∞** ‚Üí Major increment –ø—Ä–æ–µ–∫—Ç–∞
2. **Minor increment —Å–∫—Ä–∏–ø—Ç–∞** ‚Üí Minor increment –ø—Ä–æ–µ–∫—Ç–∞ (–µ—Å–ª–∏ >= —Ç–µ–∫—É—â–µ–≥–æ minor)
3. **Patch increment —Å–∫—Ä–∏–ø—Ç–∞** ‚Üí Patch increment –ø—Ä–æ–µ–∫—Ç–∞ (–µ—Å–ª–∏ >= —Ç–µ–∫—É—â–µ–≥–æ patch)

### –ü—Ä–∏–º–µ—Ä—ã

#### Patch increment
```bash
# –î–æ
Project: 1.1.0
kma_pg_backup.py: 1.0.0

# –ü–æ—Å–ª–µ patch increment
python src/kma_pg_version.py --increment kma_pg_backup.py --type patch

# –†–µ–∑—É–ª—å—Ç–∞—Ç
Project: 1.1.1
kma_pg_backup.py: 1.0.1
```

#### Minor increment
```bash
# –î–æ
Project: 1.1.0
kma_pg_backup.py: 1.0.0

# –ü–æ—Å–ª–µ minor increment
python src/kma_pg_version.py --increment kma_pg_backup.py --type minor

# –†–µ–∑—É–ª—å—Ç–∞—Ç
Project: 1.2.0
kma_pg_backup.py: 1.1.0
```

#### Major increment
```bash
# –î–æ
Project: 1.1.0
kma_pg_backup.py: 1.0.0

# –ü–æ—Å–ª–µ major increment
python src/kma_pg_version.py --increment kma_pg_backup.py --type major

# –†–µ–∑—É–ª—å—Ç–∞—Ç
Project: 2.0.0
kma_pg_backup.py: 2.0.0
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

### –ò–º–ø–æ—Ä—Ç –≤–µ—Ä—Å–∏–∏
```python
from kma_pg_version import get_version

# –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ —Å–∫—Ä–∏–ø—Ç–∞
version = get_version('kma_pg_backup.py')
print(f"Version: {version}")  # Output: 2.0.0/1.0.1
```

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –≤ CLI
```python
import argparse
from kma_pg_version import get_version

version = get_version('kma_pg_backup.py')
parser = argparse.ArgumentParser(description=f'PostgreSQL Backup Manager v{version}')
parser.add_argument('--version', '-v', action='version', 
                   version=f'PostgreSQL Backup Manager v{version}')
```

## Workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### 1. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ feature branch
git checkout -b feature/new-backup-format

# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞...
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...

# –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç minor –≤–µ—Ä—Å–∏–∏
python src/kma_pg_version.py --increment kma_pg_backup.py --type minor

# –ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
git add .
git commit -m "Add new backup format support (v2.1.0/1.1.0)"
```

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ hotfix branch
git checkout -b hotfix/fix-backup-error

# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ...
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...

# –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç patch –≤–µ—Ä—Å–∏–∏
python src/kma_pg_version.py --increment kma_pg_backup.py --type patch

# –ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
git add .
git commit -m "Fix backup error (v2.1.1/1.1.1)"
```

### 3. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ breaking-change branch
git checkout -b breaking/redesign-api

# –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è...
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...

# –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç major –≤–µ—Ä—Å–∏–∏
python src/kma_pg_version.py --increment kma_pg_backup.py --type major

# –ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
git add .
git commit -m "Redesign API (v3.0.0/2.0.0)"
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Git

### –¢–µ–≥–∏ –≤–µ—Ä—Å–∏–π
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–≥–∞ –¥–ª—è —Ä–µ–ª–∏–∑–∞
git tag -a v2.1.0 -m "Release v2.1.0: New backup format support"

# –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–≥–æ–≤
git push origin v2.1.0
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–≥–æ–≤
```bash
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ–≥–æ–≤ –ø—Ä–∏ major/minor –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
#!/bin/bash
VERSION=$(python src/kma_pg_version.py --get project)
if [[ $VERSION =~ ^[0-9]+\.[0-9]+\.0$ ]]; then
    git tag -a "v$VERSION" -m "Release v$VERSION"
    git push origin "v$VERSION"
fi
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–µ—Ä—Å–∏–π

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π –≤—Å–µ—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
```bash
python src/kma_pg_version.py --list
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
```bash
python src/kma_pg_backup.py --version
```

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
```python
from kma_pg_version import VersionManager

vm = VersionManager()
info = vm.get_version_info()

print(f"Project version: {info['project_version']}")
for script, details in info['scripts'].items():
    print(f"{script}: {details['full_version']}")
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- **MAJOR**: –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è API
- **MINOR**: –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (–æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è)
- **PATCH**: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫ (–æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ)

### 2. –ö–æ–º–º–∏—Ç—ã
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ–º–º–∏—Ç–æ–≤
- –£–∫–∞–∑—ã–≤–∞–π—Ç–µ –≤–µ—Ä—Å–∏—é –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ –∫–æ–º–º–∏—Ç–∞
- –ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–¥ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–æ–º –≤–µ—Ä—Å–∏–∏
- –û–±–Ω–æ–≤–ª—è–π—Ç–µ —Ç–µ—Å—Ç—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ API
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### 4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –û–±–Ω–æ–≤–ª—è–π—Ç–µ CHANGELOG.md –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ breaking changes
- –û–±–Ω–æ–≤–ª—è–π—Ç–µ README –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
```python
#!/usr/bin/env python3
"""
New Script
Version: 2.0.0/1.0.0
"""

from kma_pg_version import get_version

def main():
    version = get_version('new_script.py')
    print(f"New Script v{version}")

if __name__ == "__main__":
    main()
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
```bash
# –ù–∞—á–∞–ª–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
python src/kma_pg_version.py --set new_script.py 1.0.0

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
python src/kma_pg_version.py --increment new_script.py --type minor

# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏
python src/kma_pg_version.py --increment new_script.py --type patch

# –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
python src/kma_pg_version.py --increment new_script.py --type major
```

---

**–°–∏—Å—Ç–µ–º–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —á–µ—Ç–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏ —É–ø—Ä–æ—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ª–∏–∑–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞!** üöÄ
