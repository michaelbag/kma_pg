# Example Staging Database Configuration
# Copy this file and rename to your database name (e.g., staging.yaml)

# Database connection settings
database:
  # Database name (must match the actual database name)
  name: staging
  
  # PostgreSQL server hostname or IP address
  host: staging-db-server.company.com
  
  # PostgreSQL server port (default: 5432)
  port: 5432
  
  # Database username for backup operations
  username: staging_backup_user
  
  # Database password
  password: "your_staging_password"
  
  # Enable this database for backup operations
  enabled: true
  
  # Manual backup only (not included in automatic backup)
  auto_backup: false  # Manual backup only

# Database-specific backup settings
backup:
  # Directory for storing backup files
  output_dir: /var/backups/postgresql/staging
  
  # Backup format: 'custom' (binary, recommended) or 'plain' (SQL text)
  format: custom
  
  # Enable compression for backup files
  compress: true
  
  # Advanced retention policy for staging database (shorter retention)
  retention:
    # Local storage retention policy (very short for staging)
    local:
      # Daily backups: keep for 7 days
      daily: 7
      # Weekly backups: keep for 30 days
      weekly: 30
      # Monthly backups: keep for 3 months
      monthly: 90  # 3 months
      # Delete everything older than 3 months
      max_age: 90  # 3 months
    
    # Remote storage retention policy (slightly longer for staging)
    remote:
      # Daily backups: keep for 14 days
      daily: 14
      # Weekly backups: keep for 60 days
      weekly: 60
      # Monthly backups: keep for 6 months
      monthly: 180  # 6 months
      # Delete everything older than 6 months
      max_age: 180  # 6 months
  
  # Legacy retention setting (for backward compatibility)
  retention_days: 30
  
  # Remote storage configuration
  remote_storage:
    # Enable remote storage upload
    enabled: true
    
    # Remote storage type: 'webdav', 'ftp', or 'cifs'
    type: "cifs"
    
    # CIFS/Samba configuration
    cifs:
      # Samba server share path
      server: "//your-samba-server.com/staging_backups"
      
      # Samba username
      username: "your_samba_username"
      
      # Samba password
      password: "your_samba_password"
      
      # Local mount point for the share
      mount_point: "/mnt/staging_backup"
      
      # Automatically mount the share before backup
      auto_mount: true

# Database-specific logging settings
logging:
  # Logging level: DEBUG, INFO, WARNING, ERROR (DEBUG for staging)
  level: DEBUG
  
  # Path to log file
  file: /var/log/postgresql_backup_staging.log
